<mat-card class="vehicle-card">
  <mat-card-header>
    <mat-card-title
      >Registration No : {{ vehicle?.registration }}</mat-card-title
    >
  </mat-card-header>
  <mat-card-content>
    <p>IMEI: {{ vehicle?.imei }}</p>
    <p>Phone: {{ vehicle?.phone }}</p>
    <p>Vehicle: {{ vehicle?.vehicle | titlecase }}</p>
    <p>Last Seen: {{ vehicle?.lastseen | date : "dd/MM/yyyy" }}</p>
    <p>
      Status: @switch (vehicle?.status) { @case ('running') {
      <mat-chip>Running</mat-chip> } @case ('idle') {
      <mat-chip>Idle</mat-chip> } @case ('offline') {
      <mat-chip>Offline</mat-chip> } }
    </p>
    <mat-form-field class="driver-card">
      <mat-label>Assign Driver</mat-label>
      <mat-select
        [formControl]="driverControl"
        (selectionChange)="onDriverChange($event.value, vehicle)"
      >
        <mat-option [value]="null">Unassigned</mat-option>
        @for (driver of vehicle?.driver; track $index) {
        <mat-option [value]="driver">{{ driver }}</mat-option>
        }
      </mat-select>
      @if (!driverControl.value) {
      <mat-chip class="warning">No Driver Assigned</mat-chip>
      }
    </mat-form-field>
  </mat-card-content>
</mat-card>
